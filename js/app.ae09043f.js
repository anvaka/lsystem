(function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"40cf":function(e,t,n){"use strict";n("b29b")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"sidebar"},[t("div",{staticClass:"controls"},[t("a",{staticClass:"print-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggleEdit.apply(null,arguments)}}},[e._v(e._s(e.showEdit?"Hide editor":"Edit..."))]),t("a",{staticClass:"try-another",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.randomize.apply(null,arguments)}}},[e._v("Randomize")])]),e.showEdit?t("div",{staticClass:"editor-container"},[t("div",{staticClass:"section"},[t("div",{staticClass:"title"},[e._v("L-System details: "),t("a",{staticClass:"reset-all",class:{"syntax-visible":e.syntaxHelpVisible},attrs:{href:"#",title:"click to learn more about syntax"},on:{click:function(t){t.preventDefault(),e.syntaxHelpVisible=!e.syntaxHelpVisible}}},[e._v("syntax help")])]),e.syntaxHelpVisible?t("div",{staticClass:"help"},[e._v(" L-Systems are described very well on "),t("a",{attrs:{href:"http://paulbourke.net/fractals/lsys/",target:"_blank"}},[e._v("Paul Bourke's website")]),e._v(". "),e._m(0)]):e._e(),e.codeEditorModel?t("code-editor",{staticClass:"code-editor-container",attrs:{model:e.codeEditorModel}}):e._e()],1),t("div",{staticClass:"section border-top"},[e._m(1),t("p",[e._v("You can "),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toSVGFile.apply(null,arguments)}}},[e._v("export to svg")]),e._v(" current scene")]),e._m(2)])]):e._e()])])},i=[function(){var e=this,t=e._self._c;return t("p",[e._v("The following is the list of available sections: "),t("ul",[t("li",[t("strong",[e._v("axiom")]),e._v(": initial state of the system")]),t("li",[t("strong",[e._v("rules")]),e._v(": list of rewrite rules that are applied on each iteration")]),t("li",[t("strong",[e._v("depth")]),e._v(": how deep we are allowed to go recursively")]),t("li",[t("strong",[e._v("angle")]),e._v(": if specified, this argument governs rotation angle. Can be overridden with "),t("strong",[e._v("actions")])]),t("li",[t("strong",[e._v("actions")]),e._v(": list of graphic commands that are triggered by a matching character in the evolved system. The following is the list of available actions: "),t("ul",[t("li",[t("strong",[e._v("draw(x)")]),e._v(" draw "),t("code",[e._v("x")]),e._v(" units in current direction")]),t("li",[t("strong",[e._v("move(x)")]),e._v(" move "),t("code",[e._v("x")]),e._v(" units in current direction without drawing")]),t("li",[t("strong",[e._v("rotate(deg)")]),e._v(" rotate current direction "),t("code",[e._v("deg")]),e._v(" degrees around Z axis")]),t("li",[t("strong",[e._v("rotateX(deg)")]),e._v(" rotate current direction "),t("code",[e._v("deg")]),e._v(" degrees around X axis")]),t("li",[t("strong",[e._v("rotateY(deg)")]),e._v(" rotate current direction "),t("code",[e._v("deg")]),e._v(" degrees around Y axis")]),t("li",[t("strong",[e._v("push()")]),e._v(" saves current render state onto stack")]),t("li",[t("strong",[e._v("pop()")]),e._v(" restores previously saved render state")]),t("li",[t("strong",[e._v("setColor(color)")]),e._v(" set the current color value, '#ffa500' or 'orange'.")]),t("li",[t("strong",[e._v("swapAngle()")]),e._v(" swaps the meaning of `+` and `-`.")])]),t("p",[e._v("By default the following actions are added automatically:")]),t("pre",[t("code",[e._v("actions:\n  F => draw(10)\n  f => move(10)\n  + => rotate(60)\n  - => rotate(-60)\n  & => swapAngle()\n  [ => push()\n  ] => pop()\n")])])]),t("li",[t("strong",[e._v("width")]),e._v(": width in pixels of the drawn line")]),t("li",[t("strong",[e._v("color")]),e._v(": color of the line. Accepts names and hex. E.g. "),t("code",[e._v("blue")]),e._v(", works the same as "),t("code",[e._v("#0000ff")])]),t("li",[t("strong",[e._v("stepsPerFrame")]),e._v(": how many steps we are allowed to render per single frame. If set to "),t("code",[e._v("-1")]),e._v(" the scene is rendered immediately. This could be dangerous on deep systems, as the entire system traversal may exhaust the browser's resources. ")]),t("li",[t("strong",[e._v("direction")]),e._v(": three numbers separated by coma "),t("code",[e._v("x, y, z")]),e._v(" that set initial direction")]),t("li",[t("strong",[e._v("position")]),e._v(": three numbers separated by coma "),t("code",[e._v("x, y, z")]),e._v(" that set initial position")])])])},function(){var e=this,t=e._self._c;return t("p",[e._v("This website renders any L-Systems defined above. The website was created by "),t("a",{attrs:{href:"https://twitter.com/anvaka"}},[e._v("@anvaka")]),e._v(".")])},function(){var e=this,t=e._self._c;return t("p",[e._v("You can find the entire source code "),t("a",{attrs:{href:"https://github.com/anvaka/lsystem"}},[e._v("here")]),e._v(". Finally, under condition that you love this website you can "),t("a",{attrs:{href:"https://www.paypal.com/paypalme2/anvakos/3"}},[e._v("buy me a coffee")]),e._v(" :) ")])}],a=n("9aeb");n("d9e2");class s extends a["b"]{constructor(e,t={}){let n=Object(a["f"])({gl:e,vertex:"\n    uniform mat4 modelViewProjection;\n    uniform float width;\n    uniform vec2 resolution;\n\n    attribute vec4 color;\n    attribute vec3 from, to;\n    attribute vec2 point;\n\n    varying vec4 vColor;\n    varying vec2 vPoint;\n\n    void main() {\n      vec4 clip0 = modelViewProjection * vec4(from, 1.0);\n      vec4 clip1 = modelViewProjection * vec4(to, 1.0);\n\n      vec2 screen0 = resolution * (0.5 * clip0.xy/clip0.w + 0.5);\n      vec2 screen1 = resolution * (0.5 * clip1.xy/clip1.w + 0.5);\n\n      vec2 xBasis = normalize(screen1 - screen0);\n      vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n\n      // Offset the original points:\n      vec2 pt0 = screen0 + width * point.x * yBasis;\n      vec2 pt1 = screen1 + width * point.x * yBasis;\n\n      vec2 pt = mix(pt0, pt1, point.y);\n      vec4 clip = mix(clip0, clip1, point.y);\n\n      gl_Position = vec4(clip.w * (2.0 * pt/resolution - 1.0), clip.z, clip.w);\n      vColor = color.abgr; // mix(.abgr, aToColor.abgr, aPosition.y);\n    }",fragment:"\n    precision highp float;\n    varying vec4 vColor;\n\n    void main() {\n      gl_FragColor = vColor;\n    }",attributes:{color:new a["a"]},instanced:{point:new a["c"]([-.5,0,-.5,1,.5,1,-.5,0,.5,1,.5,0])}});super(n),this.width=t.width||2,this.multiColorSegment=!0}draw(e,t){this.uniforms||(this.uniforms={modelViewProjection:this.modelViewProjection,width:this.width,resolution:[t.width,t.height]}),this.uniforms.resolution[0]=t.width,this.uniforms.resolution[1]=t.height,this.program.draw(this.uniforms)}forEachLine(e){let t=this.program.getCount();for(let n=0;n<t;++n){let t=this.program.get(n),r={x:t.from[0],y:t.from[1],z:t.from[2],color:t.color},o={x:t.to[0],y:t.to[1],z:t.to[2],color:t.color};e(r,o)}}getLineColor(e){let t=this.program.getCount(),n=e?e.color:t>0?this.program.get(0).color:4294967295;return[(n>>24&255)/255,(n>>16&255)/255,(n>>8&255)/255,(n>>0&255)/255]}}var l=n("66cb"),c=n.n(l);class d{constructor(e,t={}){this.position=t.position||[0,0,0],u("position",this.position),this.direction=t.direction||[1,0,0],f(this.direction),u("direction",this.direction),this.lines=new s(e.getGL(),{capacity:1024,width:t.width||2}),this.scene=e,this.color=t.color||4294967295,this.scene.appendChild(this.lines),this.stack=[],this.invertZYAngle=!1}push(){this.stack.push({color:this.color,direction:[this.direction[0],this.direction[1],this.direction[2]],position:[this.position[0],this.position[1],this.position[2]]})}pop(){let e=this.stack.pop();this.color=e.color,this.direction=e.direction,this.position=e.position}dispose(){this.scene.removeChild(this.lines)}move(e){let t=this.position,n=this.direction,r=t[0]+e*n[0],o=t[1]+e*n[1],i=t[2]+e*n[2];t[0]=r,t[1]=o,t[2]=i}draw(e){let t=this.position,n=this.direction,r=t[0]+e*n[0],o=t[1]+e*n[1],i=t[2]+e*n[2];this.lines.add({from:t,to:[r,o,i],color:this.color}),t[0]=r,t[1]=o,t[2]=i,this.scene.renderFrame()}setColor(e){if(void 0===e)throw new Error("setColor() expects color value, got undefined");const t=c()("number"===typeof e?Object.values(c.a.names)[e]:e).toRgb();this.color=t.r<<24|t.g<<16|t.b<<8|255*t.a|0}rotateZ(e){this.invertZYAngle&&(e*=-1);let t=Math.PI*e/180,n=this.direction,r=Math.cos(t)*n[0]-Math.sin(t)*n[1],o=Math.sin(t)*n[0]+Math.cos(t)*n[1];n[0]=r,n[1]=o}rotateY(e){this.invertZYAngle&&(e*=-1);let t=Math.PI*e/180,n=this.direction,r=Math.cos(t)*n[0]-Math.sin(t)*n[2],o=Math.sin(t)*n[0]+Math.cos(t)*n[2];n[0]=r,n[2]=o}rotateX(e){let t=Math.PI*e/180,n=this.direction,r=Math.cos(t)*n[1]-Math.sin(t)*n[2],o=Math.sin(t)*n[1]+Math.cos(t)*n[2];n[1]=r,n[2]=o}swapAngle(){this.invertZYAngle=!this.invertZYAngle}}function u(e,t){if(!Array.isArray(t))throw new Error("Array is expected for `"+e+"`");if(2===t.length&&t.push(0),3!==t.length)throw new Error("Array `"+e+"` should have 2 or 3 coordinates, got "+t.length)}function f(e){let t=Math.hypot(e[0],e[1],e[2]);e[0]/=t,e[1]/=t,e[2]/=t}const p=1e6;class h{constructor(e,t){g(t),this.rules=t.rules,this.actions=m(t,this),this.turtle=new d(e,t),this.stepsPerFrame=t.stepsPerFrame||42,this.drawQueue=[],this.lastDrawnIndex=-1;const n=Number.isFinite(t.depth)?t.depth:5;let r=t.start;if(void 0===r&&(r=Object.keys(this.rules)[0]),void 0===r)throw new Error("System does not have neither rewrite rules nor start state");this.start=r,this.depth=n,this.simulate(),this.iterator=this.renderIterator()}dispose(){this.turtle.dispose()}frame(){let e,t=0;do{e=this.iterator.next()}while(!e.done&&t++<this.stepsPerFrame);return!e.done}simulate(){let e=this.start,t=0;while(t<this.depth&&e.length<p)e=this.iterateRules(e),t+=1;this.production=e,this.complete=e.length<p}iterateRules(e){let t=[];for(let n of e){let e=this.rules[n];void 0!==e?t.push(e):t.push(n)}return t.join("")}*renderIterator(){for(let e of this.production)this.actions[e]&&(this.stepsPerFrame<0?yield*this.actions[e]():yield this.actions[e]())}}function m(e,t){let n={},r=Number.isFinite(e.angle)?e.angle:60,o={F:{name:"draw",args:[]},f:{name:"move",args:[]},"+":{name:"rotate",args:[r]},"-":{name:"rotate",args:[-r]},"&":{name:"swapAngle",args:[-r]},"[":{name:"push",args:[]},"]":{name:"pop",args:[]},...e.actions};return Object.keys(o).forEach(e=>{let r=o[e],i=F(r,t);if(!i)throw new Error("Turtle does not know how to do '"+r+"'");n[e]=i}),n}function F(e,t){if(0===e.name.indexOf("rotate")){let n=e.args[0];if(!Number.isFinite(n))throw new Error("`rotate() needs one float argument");switch(e.name){case"rotateX":return function(){t.turtle.rotateX(n)};case"rotateY":return function(){t.turtle.rotateY(n)}}return function(){t.turtle.rotateZ(n)}}if("draw"===e.name){let n=v(e.args[0],"draw");return function(){t.turtle.draw(n)}}if(e.name.match(/chcolor|setColor/i)){let n=e.args[0];return function(){t.turtle.setColor(n)}}if("push"===e.name)return function(){t.turtle.push()};if("pop"===e.name)return function(){t.turtle.pop()};if("move"===e.name){let n=v(e.args[0],"move");return function(){t.turtle.move(n)}}return e.name.match(/swapAngle/i)?function(){t.turtle.swapAngle()}:void 0}function v(e,t){let n=10;if(void 0!==e&&(n=e,!Number.isFinite(n)))throw new Error(t+"(l) expects `l` to be a float number. Got: "+e);return n}function g(e){if(void 0!==e.angle&&(e.angle=Number.parseFloat(e.angle)),void 0!==e.width&&(e.width=Number.parseFloat(e.width)),void 0!==e.depth&&(e.depth=Number.parseFloat(e.depth)),void 0!==e.color){let t=c()(e.color).toRgb();e.color=t.r<<24|t.g<<16|t.b<<8|255*t.a|0}}function w(e){let t=Object(a["e"])(e),n=Object(a["d"])(t,{lineColor:222261759});t.setClearColor(12/255,41/255,82/255,1);let r=40;t.setViewBox({left:-r,top:-r,right:r,bottom:r});let o,i=!1,s=[],l=requestAnimationFrame(p);return{dispose:F,setSystem:u,saveToSVG:c,isComplete:f};function c(e){let n=Object(a["h"])(t,{open(){return"\x3c!-- Generator: https://github.com/anvaka/l-system --\x3e"}}),r=new Blob([n],{type:"image/svg+xml"}),o=window.URL.createObjectURL(r);setTimeout(()=>{let t=document.createElement("a");t.href=o,t.download=e,t.click(),d(o)},30)}function d(e){setTimeout(()=>{window.URL.revokeObjectURL(e)},45e3)}function u(e){cancelAnimationFrame(l),o?s.forEach(e=>o.push(e)):o=s,Array.isArray(e)||(e=[e]);let r=!1;s=[],e.forEach(e=>{e.hideGrid&&(r=!0),s.push(new h(t,e))}),r&&n?(n.dispose(),n=null):r||n||(n=Object(a["d"])(t)),l=requestAnimationFrame(p)}function f(){return s.every(e=>e.complete)}function p(){i=!1,s.forEach(m),i&&(l=requestAnimationFrame(p)),o&&(o.forEach(e=>e.dispose()),o=null)}function m(e){i|=e.frame()}function F(){cancelAnimationFrame(l),t.dispose()}}const y=/:|->|=>|=|→/,b=/rules|production rules/i,x=/actions/i,k=/[ \t]/g,X=/angle|depth|width|stepsPerFrame/i,_=/direction|position/i,C=/[[\]()]/;class Y{constructor(e,t,n){this.parent=t,this.addTo=e,this.valueParser=n||(e=>e)}process(e){let t=e.split(y);if(1===t.length)throw new Error("Expected `_ => value`, found "+e);let n=t[0].trim();if(1!==n.length)return this.parent.process(e);let r=t.slice(1).join("").replace(k,"");return this.addTo[n]=this.valueParser(r),this}}function M(e){let t=e.match(/(\w+?)\s*\((.+?)?\)/);if(!t)throw new Error("Expected `action()` call, got: "+e);let n,r=t[1];return n=t[2]?t[2].split(",").map(e=>{let t=j(e);return void 0!==t?t:Number.parseFloat(e.trim())}):[],{name:r,args:n}}function j(e){let t=e&&e.match(/\s*(?:'(.*?)'|"(.*?)")\s*/);if(t)return t[1]||t[2]}class E{constructor(e){this.addTo=e}process(e){let t=e.split(y);if(1===t.length)throw new Error("Expected `key: value`, found "+e);let n=t[0].trim(),r=t.slice(1).join("").trim();if(n.match(b))return this.addTo.rules={},new Y(this.addTo.rules,this);if(n.match(x))return this.addTo.actions={},new Y(this.addTo.actions,this,M);if(n.match(X)){let e=Number.parseFloat(r);if(!Number.isFinite(e))throw new Error("Expected a number value for `"+n+"`");return this.addTo[n]=e,this}return n.match(_)?(this.addTo[n]=P(r,n),this):(this.addTo[n]=r,this)}}function P(e,t){return e.replace(C,"").replace(k,"").split(",").map((n,r)=>{if(!n)throw new Error("Missing vector component at position "+r+" for `"+t+"`");let o=Number.parseFloat(n);if(!Number.isFinite(o))throw new Error("Vectors are expected to be numbers. Found `"+n+"` in `"+e+"`");return o})}function A(e){let t=e.split("\n"),n=new E({});t.forEach((e,t)=>{if(e=e.trim(),""!==e&&!e.startsWith("//"))try{n=n.process(e)}catch(r){throw new Error(r.message+"\n\n at line "+t)}});while(n.parent)n=n.parent;return n.addTo}const O=n("9cf4");var T=O({code:N()},{useSearch:!0});let V=["// dragon curve\naxiom: X\nrules: \n X => X+YF+\n Y => -FX-Y\n\ndepth: 10\nangle: 90","// William McWorters Terdragon\naxiom: F\nrules: \n F => F+F-F\n\ndepth: 8\nangle: 120",'// William McWorters Pentl\naxiom: F-F-F-F-F\nrules: \n  F => cF-F-F++dF+F-F \n\ndepth: 4\nangle: 72\nactions:\n  c => setColor("mediumpurple")\n  d => setColor("violet") ','// William McWorters Pentant\naxiom: X-X-X-X-X\nrules: \n  F => \n  X => dFX-FX-FX+FY+FY+FX-FX\n  Y => cFY+FY-FX-FX-FY+FY+FY\n\ndepth: 3\nangle: 72\nactions:\n  c => setColor("goldenrod")\n  d => setColor("gold") ','// William McWorter Sierπnski Carpet \naxiom: F\nrules: \n F => cF+F-F-F-f+dF+F+F-F\n f => fff\n\nangle: 90\ndepth: 4\nactions:\n  c => setColor("goldenrod")\n  d => setColor("gold") ',"// Hexagonal Gosper\naxiom: X\nrules:\n X => X+YF++YF-FX--FXFX-YF+\n Y => -FX+YFYF++YF+FX--FX-Y \n\nangle: 60","// Peano curve\naxiom: X\nrules: \n X => XFYFX-F-YFXFY+F+XFYFX\n Y => YFXFY+F+XFYFX-F-YFXFY\n\ndepth:4\nangle: 90","// Gary Teachout Pean-c\naxiom: FX\nrules:\n F => \n X =>  FX-FY-FX+FY+FX+FY+FX+FY+FX-FY-FX-FY-FX-FY-FX+FY+FX\n Y => FY\n\ndepth: 3\nangle: 45","// Square Sierpinski\naxiom: F+XF+F+XF\nrules: \n X => XF-F+F-XF+F+XF-F+F-X\n\ndepth: 4\nangle: 90 ","// Tree\naxiom: X\nrules: \n F => FF\n X => F-[[X]+X]+F[+FX]-X\n\ndirection: [0, 1, 0]\nangle: 22.5","// Tree with color\naxiom: X\nrules: \n F => FF\n X => F-[[X]+X]+cF[+dFX]-X\n\ncolor:brown\ndirection: [0, 1, 0]\nangle: 22.5a\nactions:\n  c => setColor('green')\n  d => setColor('lightgreen')","// Bush, after P. Bourke\naxiom: Y\nrules: \n  X => X[-FFF]c[+FFF]FX\n  Y => dYFXe[+Y][-Y]\n\ncolor: brown\ndirection: [0, 1, 0]\nangle: 22.5\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('brown')"," // Grains, after P. Bourke\naxiom: Y\nrules: \n  X => dX[-F+FF]cg[+F-FF]dFX\n  Y => eYFX[+Y][-Y]\n\ndepth:5\ndirection: [0, 1, 0]\nangle: 27\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('lightgreen')\n  g => rotate(0.3)"," // Grains 2, after P. Bourke\naxiom: Y\nrules: \n  X => cX[-FF-F]g[+FF+F]dFX\n  Y => eYFX[+Y][-Y]XFY\n\ndepth:4\ndirection: [0, 1, 0]\nangle: 27\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('gold')\n  g => rotate(0.2)","// Bush, P. Bourke\naxiom: F\nrules: \n  F => FF+[c+F-F-F]-[-F+F+dF]\n\ncolor: green\ndirection: [0, 1, 0]\nangle: 21\ndepth:4\nactions:\n  c => setColor('green')\n  d => setColor('lime')","// P. Bourkes Pentaplexy\naxiom: F++F++F++F++F\nrules: \n  F => cF++F++F+++++dF-F++F\n\ndepth:3\nangle: 36\nactions:\n  c => setColor('mediumpurple')\n  d => setColor('violet')","// poetasters shrub\naxiom: F\nrules: \n F => Fe[+cFF]Fd[-FF]cF\n\ncolor:brown\ndirection: [0, 1, 0]\nangle: 322\ndepth: 4\nactions:\n  c => setColor('green')\n  d => setColor('lightgreen')\n  e => setColor('brown')","// poetasters weed, after, P. Bourke\naxiom: F\nrules:\n  F -> F-[XY]+[XY]F+[XY]-[XY]\n  X -> +dFY\n  Y -> -cFX\n\ncolor: brown\ndirection: [0, 1, 0.5]\nangle: 22.5\ndepth:5\nactions:\n  c => setColor('green')\n  d => setColor('lime')","// Unlikely bush (after Bourke)\naxiom: F\nrules: \n  F => eF[+cFF][-FF]cF[-F]d[+F]F\n\ncolor: brown\ndirection: [0, 1, 0]\nangle: 330\ndepth:3\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('brown')","// Weed, P. Bourke\naxiom: F\nrules:\n  F -> FF-[XY]+[XY]\n  X -> +cFY\n  Y -> -dFX\n\ncolor: brown\ndirection: [0, 1, 1]\nangle: 22.5\nactions:\n  c => setColor('green')\n  d => setColor('lime')","// P. Bourke after Saupe\naxiom: VZFFF\nrules:\n  V -> [+++W][---W]YV\n  W -> +X[-W]Z\n  X -> -W[+X]Z\n  Y -> YZ\n  Z -> [-FcFF][+FdFF]F\n\ncolor: green\ndepth:8\ndirection: [0, 1, 0]\nangle: 20\nactions:\n  c => setColor('lightgreen')\n  d => setColor('lime')",'// poetaster\'s curly, inspired by  McWorter\naxiom: F+F-F+F\nrules: \n  F => eF-F-F++[cF+F-dF[GGG]][GGG]\n  G => c--g--g--g--g--g--g--g\n\ndepth: 3\nangle: 17\nwidth:2\ndirection: [-0.5,0.7,-0.5]\nactions:\n  c => setColor("palegreen")\n  d => setColor("violet") \n  e => setColor("green")\n  g => draw(2)',"// aquatic plant\naxiom: F\nrules:\n  F -> FFc[-F++F]d[+F--F]e++F--F\n\ncolor: brown\ndirection: [0, 1, 0.5]\nangle: 27\ndepth:4\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('goldenrod')","// another aquatic \naxiom: F\nrules:\n  F => FMNOMBxPNMyO\n  M => e[-F++F++]\n  N => d[+F--F--]\n  O => c++F--F\n  P => d--F++F\n\ncolor: brown\ndirection: [0, 1, -1]\nangle: 27\ndepth:5\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('goldenrod')\n  x => rotateX(2)\n  y => rotateY(-3)","// poetasters third aquatic\naxiom: F\nrules:\n  F -> FMNxQRyQR[O-O-O-O-0]\n  M => d[++FF+FF+]\n  N => d[--FF-FF-]\n  O => e[F-F-F++dF+F-F]\n  Q => c++F--F\n  R => c--F++F\n\ncolor: brown\ndirection: [0, 1, -1]\nangle: 17\ndepth:4\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('goldenrod')\n  x => rotateX(2)\n  y => rotateY(-1.5)","// poetasters sallow thorn\naxiom: F\nrules:\n  F -> FMNxQRyQROP\n  M => d[++FF+FF+]\n  N => d[--FF-FF-]\n  O => e[-F++F++]\n  P => e[+F--F--]\n  Q => c++F--F\n  R => c--F++F\n\ncolor: brown\ndirection: [0.5, 1, -1]\nangle: 27\ndepth:5\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('goldenrod')\n  x => rotateX(2)\n  y => rotateY(-1.5)",'// Pean-c flower after Gary Teachout\naxiom: FXhFXiFX\nrules:\n F => \n X =>  [FX-FY][-cFX-FY-FX][ZZ]-dFY-FX+FY+FX\n Y => FY\n Z => -cFX-FY-FX\n\ncolor: green\ndepth: 3\nangle: 340\nwidth: 2\ndirection: [1,1,1]\nactions:\n  c => setColor("violet")\n  d => setColor("lime")\n  h => rotate(5)\n  i => rotate(-3)',"// poetasters succulent 1\naxiom: A\nrules:\n A =>[FL]gAhg[FLA]\n F => cSF \n S => dFL\n L => c[F+F+F]fe[F-F-F]\n\ncolor:green\ndirection: [0, 1, 0.5]\nwidth: 4\nangle: 17\ndepth: 7\nactions:\n  c => setColor('green')\n  d => setColor('lime')\n  e => setColor('lightgreen')\n  g => rotate(4.5)\n  h => rotate(-3)","// Pyramids, Anthony Hanmer ADH258a \naxiom: F++F++F+++F--F--F\nrules: \n  F =>  cFF++F++F++dFFF\n\ncolor: gold\nangle: 60\ndepth:3\nactions:\n  c => setColor('gold')\n  d => setColor('goldenrod')","// Hilbert curve\naxiom: X\nrules: \n X => -YF+XFX+FY-\n Y => +XF-YFY-FX+\n\nangle: 90",'// Levey Curve\naxiom: F++F++F++F\nrules: \n  F => -dF++cF-\nangle: 45\ndepth: 12\nactions:\n  c => setColor("goldenrod")\n  d => setColor("gold")',"// blocks\naxiom: F+F+F+F\nrules: \n F => F-f+FF-FF-FF-FFf-FFFF\n f => ffffff\n\nangle: 90\ndepth: 3 ",'// aztec blocks\naxiom: F-F-F-F\nrules: \n F => F-cf+FF-F-FF-Ff-FF+df-FF+F+FF+Ff+FFF\n f => ffffff\n\nangle: 90\ndepth: 2\nactions:\n  c => setColor("goldenrod")\n  d => setColor("gold")',"// Color Mosaic\naxiom: F+F+F+F\nrules: \n  F => dFF+F+cF+F+FF\n\ncolor: green\ndepth: 3\nangle: 90\nactions:\n  c => setColor('lime')\n  d => setColor('green')","// 3 Blocks\naxiom: F^^F^^F\nrules: \n F => F-fff^F^^F^^F&&fff-FFF\n f => fff\n\ndepth: 3\nactions:\n - => rotate(-90)\n ^ => rotate(60)\n & => rotate(-60) ","// Leaf\naxiom: Y---Y\nrules: \n X => F-FF-F--[--X]F-FF-F--F-FF-F--\n Y => f-F+X+F-fY\n\ndepth: 8\nangle: 60","// esum\naxiom: X+X+X+X+X+X+X+X\nrules: \n X => [F[-X++Y]]\n Y => [F[-Y--X]]\n F => F\n\ndepth: 6\nangle: -45","// Penrose tiling\naxiom: [N]++[N]++[N]++[N]++[N]\nrules: \n  M => OF++PF----NF[-OF----MF]++\n  N => +OF--PF[---MF--NF]+\n  O => -MF++NF[+++OF++PF]-\n  P => --OF++++MF[+PF++++NF]--NF\n  F => \n\ndepth: 4\nangle: 36\n"];function S(e){let t={setCode:o,error:null,randomize:r,code:T.get("code")},n=-1;return o(t.code),t;function r(){let e;do{e=I(V)}while(e===n);n=e;let r=V[n];o(r),t.ignoreNextUpdate=!0,t.code=r}function o(n){if(n=n.trim(),n)try{let r=A(n);r?(r.axiom&&(r.start=r.axiom),e.setSystem(r),e.isComplete()?t.error=null:t.error="The system limit reached.\nRendering first 1,000,000 characters",T.set("code",n)):t.error="Could not parse the input string"}catch(r){t.error=r.message}else t.error="Enter a system description above"}}function N(){return"axiom: X\nrules: \n  X => -YF+XFX+FY-\n  Y => +XF-YFY-FX+\n\ndepth: 5\nstepsPerFrame: 10\nwidth: 2\ncolor: #FFFFFF\n\nactions:\n  - => rotate(-90)\n  + => rotate(90)\n  F => draw()\n"}function I(e){return Math.floor(Math.random()*e.length)}var z=function(){var e=this,t=e._self._c;return t("div",[t("codemirror",{ref:"editor",attrs:{options:{viewportMargin:1/0,theme:"lsystem",mode:"application/lsystem"}},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}}),e.model.error?t("div",{staticClass:"error-container"},[t("pre",{staticClass:"error hl"},[e._v(e._s(e.model.error))])]):e._e()],1)},B=[],G=n("00c7"),W=n.n(G);const L=W()({});var R=L,Z=n("c884"),q=n("56b3");function U(e){e.toggleComment({indent:!0,lineComment:"//"})}function $(e){return D(1,e)}function H(e){return D(-1,e)}function D(e,t){let n=t.getCursor(),r=t.getTokenAt(n);if(!r||"number"!==r.type)return q.Pass;let o={line:n.line,ch:r.start},i={line:n.line,ch:r.end},a=Number.parseFloat(r.string),s=t.getLine(n.line);o.ch>0&&"-"===s[o.ch-1]&&(a*=-1,o.ch-=1),a+=e;var l=t.getDoc();l.replaceRange(String(a),o,i),R.fire("immediate-update")}n("7289"),n("cfb0")(q);var Q={name:"CodeEditor",props:["model"],components:{codemirror:Z["codemirror"]},mounted(){R.on("settings-collapsed",J,this),R.on("immediate-update",this.setImmediateUpdate,this),this.$refs.editor.editor.setOption("extraKeys",{"Cmd-/":U,"Ctrl-/":U,"Shift-Up":$,"Shift-Down":H})},beforeDestroy(){R.off("settings-collapsed",J,this),R.off("immediate-update",this.setImmediateUpdate,this)},watch:{"model.code":function(){if(this.model.ignoreNextUpdate)this.model.ignoreNextUpdate=!1;else{if(this.pendingSetCode&&clearTimeout(this.pendingSetCode),this.isImmediate)return this.model.setCode(this.model.code),void(this.pendingSetCode=0);this.pendingSetCode=setTimeout(()=>{this.model.setCode(this.model.code),this.pendingSetCode=0},300)}}},data(){return{clearImmediate:0,isImmediate:!1}},methods:{setImmediateUpdate(){this.clearImmediate&&clearTimeout(this.clearImmediate),this.clearImmediate=setTimeout(()=>this.isImmediate=!1,30),this.isImmediate=!0}}};function J(e){e||setTimeout(()=>{this.$refs.editor.editor.refresh()},10)}var K=Q,ee=n("2877"),te=Object(ee["a"])(K,z,B,!1,null,null,null),ne=te.exports,re={name:"App",components:{CodeEditor:ne},data(){return{codeEditorModel:null,showEdit:!0,syntaxHelpVisible:!1}},mounted(){this.scene=w(document.querySelector("#scene")),this.codeEditorModel=S(this.scene)},beforeDestroy(){this.scene.dispose()},methods:{toSVGFile(){this.scene.saveToSVG("l-system.svg")},toggleEdit(){this.showEdit=!this.showEdit},randomize(){this.codeEditorModel.randomize()}}},oe=re,ie=(n("a02f"),Object(ee["a"])(oe,o,i,!1,null,null,null)),ae=ie.exports,se=function(){var e=this;e._self._c;return e._m(0)},le=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute no-webgl"},[t("h3",[e._v("WebGL is not enabled :(")]),t("p",[e._v(" To render large amount of data fast, this website uses "),t("a",{attrs:{href:"https://get.webgl.org/"}},[e._v("WebGL")]),e._v(", which seem to be not supported by the device that you are using. ")]),t("p",[e._v("Please try a different device to play with this website")])])}],ce=(n("40cf"),{}),de=Object(ee["a"])(ce,se,le,!1,null,"283309e6",null),ue=de.exports;r["a"].config.productionTip=!1;let fe=Object(a["g"])(document.querySelector("#canvas"));new r["a"]({render:e=>e(fe?ae:ue)}).$mount("#app")},8986:function(e,t,n){},a02f:function(e,t,n){"use strict";n("8986")},b29b:function(e,t,n){},cfb0:function(e,t){e.exports=function(e){"use strict";e.defineMode("javascript",(function(t,n){var r=t.indentUnit,o=n.statementIndent,i=n.json,a=(n.lsystem,n.typescript),s=n.wordCharacters||/[\w$\xa1-\uffff]/,l=/[a-zA-Z+_^?~<>|&*%\][-]/,c=function(){function e(e){return{type:e,style:"keyword"}}e("keyword a"),e("keyword b"),e("keyword c"),e("keyword d"),e("operator");return{axiom:e("axiom"),angle:e("angle"),start:e("start"),direction:e("direction"),position:e("position"),hideGrid:e("hideGrid"),rules:e("rules"),depth:e("depth"),stepsPerFrame:e("stepsPerFrame"),actions:e("actions"),color:e("color"),width:e("width")}}();let d={test:()=>!1};var u,f,p=d;function h(e){var t,n=!1,r=!1;while(null!=(t=e.next())){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function m(e,t,n){return u=e,f=n,t}function F(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=v(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):et(e,t,1)?(h(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=w,w(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(s))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->"))return e.skipToEnd(),m("comment","comment");if(p.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(s.test(n)){e.eatWhile(s);var r=e.current();if("."!=t.lastType){if(c.propertyIsEnumerable(r)){var o=c[r];return m(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}if(l.test(n)){var i=e.string.indexOf("=>",e.start);if(i>-1){r=e.current();return m("def","def",r)}}}function v(e){return function(t,n){var r,o=!1;while(null!=(r=t.next())){if(r==e&&!o)break;o=!o&&"\\"==r}return o||(n.tokenize=F),m("string","string")}}function g(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=F;break}r="*"==n}return m("comment","comment")}function w(e,t){var n,r=!1;while(null!=(n=e.next())){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=F;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}var y="([{}])";function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(a){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,l=n-1;l>=0;--l){var c=e.string.charAt(l),d=y.indexOf(c);if(d>=0&&d<3){if(!o){++l;break}if(0==--o){"("==c&&(i=!0);break}}else if(d>=3&&d<6)++o;else if(s.test(c))i=!0;else if(/["'\/`]/.test(c))for(;;--l){if(0==l)return;var u=e.string.charAt(l-1);if(u==c&&"\\"!=e.string.charAt(l-2)){l--;break}}else if(i&&!o){++l;break}}i&&!o&&(t.fatArrowAt=l)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function X(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function _(e,t,n,r,o){var a=e.cc;C.state=e,C.stream=o,C.marked=null,C.cc=a,C.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);while(1){var s=a.length?a.pop():i?R:W;if(s(n,r)){while(a.length&&a[a.length-1].lex)a.pop()();return C.marked?C.marked:"variable"==n&&X(e,r)?"variable-2":t}}}var C={state:null,column:null,marked:null,cc:null};function Y(){for(var e=arguments.length-1;e>=0;e--)C.cc.push(arguments[e])}function M(){return Y.apply(null,arguments),!0}function j(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function E(e){var t=C.state;if(C.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=P(e,t.context);if(null!=r)return void(t.context=r)}else if(!j(e,t.localVars))return void(t.localVars=new T(e,t.localVars));n.globalVars&&!j(e,t.globalVars)&&(t.globalVars=new T(e,t.globalVars))}function P(e,t){if(t){if(t.block){var n=P(e,t.prev);return n?n==t.prev?t:new O(n,t.vars,!0):null}return j(e,t.vars)?t:new O(t.prev,new T(e,t.vars),!1)}return null}function A(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function O(e,t,n){this.prev=e,this.vars=t,this.block=n}function T(e,t){this.name=e,this.next=t}var V=new T("this",new T("arguments",null));function S(){C.state.context=new O(C.state.context,C.state.localVars,!1),C.state.localVars=V}function N(){C.state.context=new O(C.state.context,C.state.localVars,!0),C.state.localVars=null}function I(){C.state.localVars=C.state.context.vars,C.state.context=C.state.context.prev}function z(e,t){var n=function(){var n=C.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new k(r,C.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function B(){var e=C.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function G(e){function t(n){return n==e?M():";"==e||"}"==n||")"==n||"]"==n?Y():M(t)}return t}function W(e,t){return"var"==e?M(z("vardef",t),Xe,G(";"),B):"keyword a"==e?M(z("form"),q,W,B):"keyword b"==e?M(z("form"),W,B):"keyword d"==e?C.stream.match(/^\s*$/,!1)?M():M(z("stat"),$,G(";"),B):"debugger"==e?M(G(";")):"{"==e?M(z("}"),N,ue,B,I):";"==e?M():"if"==e?("else"==C.state.lexical.info&&C.state.cc[C.state.cc.length-1]==B&&C.state.cc.pop()(),M(z("form"),q,W,B,Ee)):"function"==e?M(Te):"for"==e?M(z("form"),Pe,W,B):"class"==e||a&&"interface"==t?(C.marked="keyword",M(z("form","class"==e?e:t),ze,B)):"variable"==e?a&&"declare"==t?(C.marked="keyword",M(W)):a&&("module"==t||"enum"==t||"type"==t)&&C.stream.match(/^\s*\w/,!1)?(C.marked="keyword","enum"==t?M(Qe):"type"==t?M(Se,G("operator"),Fe,G(";")):M(z("form"),_e,G("{"),z("}"),ue,B,B)):a&&"namespace"==t?(C.marked="keyword",M(z("form"),R,W,B)):a&&"abstract"==t?(C.marked="keyword",M(W)):M(z("stat"),oe):"switch"==e?M(z("form"),q,G("{"),z("}","switch"),N,ue,B,B,I):"case"==e?M(R,G(":")):"default"==e?M(G(":")):"catch"==e?M(z("form"),S,L,W,B,I):"export"==e?M(z("stat"),Le,B):"import"==e?M(z("stat"),Ze,B):"async"==e?M(W):"@"==t?M(R,W):Y(z("stat"),R,G(";"),B)}function L(e){if("("==e)return M(Ne,G(")"))}function R(e,t){return U(e,t,!1)}function Z(e,t){return U(e,t,!0)}function q(e){return"("!=e?Y():M(z(")"),$,G(")"),B)}function U(e,t,n){if(C.state.fatArrowAt==C.stream.start){var r=n?ee:K;if("("==e)return M(S,z(")"),ce(Ne,")"),B,G("=>"),r,I);if("variable"==e)return Y(S,_e,G("=>"),r,I)}var o=n?D:H;return x.hasOwnProperty(e)?M(o):"function"==e?M(Te,o):"class"==e||a&&"interface"==t?(C.marked="keyword",M(z("form"),Ie,B)):"keyword c"==e||"async"==e?M(n?Z:R):"("==e?M(z(")"),$,G(")"),B,o):"operator"==e||"spread"==e?M(n?Z:R):"["==e?M(z("]"),De,B,o):"{"==e?de(ae,"}",null,o):"quasi"==e?Y(Q,o):"new"==e?M(te(n)):"import"==e?M(R):M()}function $(e){return e.match(/[;\}\)\],]/)?Y():Y(R)}function H(e,t){return","==e?M($):D(e,t,!1)}function D(e,t,n){var r=0==n?H:D,o=0==n?R:Z;return"=>"==e?M(S,n?ee:K,I):"operator"==e?/\+\+|--/.test(t)||a&&"!"==t?M(r):a&&"<"==t&&C.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(z(">"),ce(Fe,">"),B,r):"?"==t?M(R,G(":"),o):M(o):"quasi"==e?Y(Q,r):";"!=e?"("==e?de(Z,")","call",r):"."==e?M(ie,r):"["==e?M(z("]"),$,G("]"),B,r):a&&"as"==t?(C.marked="keyword",M(Fe,r)):"regexp"==e?(C.state.lastType=C.marked="operator",C.stream.backUp(C.stream.pos-C.stream.start-1),M(o)):void 0:void 0}function Q(e,t){return"quasi"!=e?Y():"${"!=t.slice(t.length-2)?M(Q):M(R,J)}function J(e){if("}"==e)return C.marked="string-2",C.state.tokenize=w,M(Q)}function K(e){return b(C.stream,C.state),Y("{"==e?W:R)}function ee(e){return b(C.stream,C.state),Y("{"==e?W:Z)}function te(e){return function(t){return"."==t?M(e?re:ne):"variable"==t&&a?M(be,e?D:H):Y(e?Z:R)}}function ne(e,t){if("target"==t)return C.marked="keyword",M(H)}function re(e,t){if("target"==t)return C.marked="keyword",M(D)}function oe(e){return":"==e?M(B,W):Y(H,G(";"),B)}function ie(e){if("variable"==e)return C.marked="property",M()}function ae(e,t){return"async"==e?(C.marked="property",M(ae)):"variable"==e||"keyword"==C.style?(C.marked="property","get"==t||"set"==t?M(se):(a&&C.state.fatArrowAt==C.stream.start&&(n=C.stream.match(/^\s*:\s*/,!1))&&(C.state.fatArrowAt=C.stream.pos+n[0].length),M(le))):"number"==e||"string"==e?(C.marked=C.style+" property",M(le)):"jsonld-keyword"==e?M(le):a&&A(t)?(C.marked="keyword",M(ae)):"["==e?M(R,fe,G("]"),le):"spread"==e?M(Z,le):"*"==t?(C.marked="keyword",M(ae)):":"==e?Y(le):void 0;var n}function se(e){return"variable"!=e?Y(le):(C.marked="property",M(Te))}function le(e){return":"==e?M(Z):"("==e?Y(Te):void 0}function ce(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var a=C.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),M((function(n,r){return n==t||r==t?Y():Y(e)}),r)}return o==t||i==t?M():n&&n.indexOf(";")>-1?Y(e):M(G(t))}return function(n,o){return n==t||o==t?M():Y(e,r)}}function de(e,t,n){for(var r=3;r<arguments.length;r++)C.cc.push(arguments[r]);return M(z(t,n),ce(e,t),B)}function ue(e){return"}"==e?M():Y(W,ue)}function fe(e,t){if(a){if(":"==e)return M(Fe);if("?"==t)return M(fe)}}function pe(e,t){if(a&&(":"==e||"in"==t))return M(Fe)}function he(e){if(a&&":"==e)return C.stream.match(/^\s*\w+\s+is\b/,!1)?M(R,me,Fe):M(Fe)}function me(e,t){if("is"==t)return C.marked="keyword",M()}function Fe(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(C.marked="keyword",M("typeof"==t?Z:Fe)):"variable"==e||"void"==t?(C.marked="type",M(ye)):"|"==t||"&"==t?M(Fe):"string"==e||"number"==e||"atom"==e?M(ye):"["==e?M(z("]"),ce(Fe,"]",","),B,ye):"{"==e?M(z("}"),ce(ge,"}",",;"),B,ye):"("==e?M(ce(we,")"),ve,ye):"<"==e?M(ce(Fe,">"),Fe):void 0}function ve(e){if("=>"==e)return M(Fe)}function ge(e,t){return"variable"==e||"keyword"==C.style?(C.marked="property",M(ge)):"?"==t||"number"==e||"string"==e?M(ge):":"==e?M(Fe):"["==e?M(G("variable"),pe,G("]"),ge):"("==e?Y(Ve,ge):void 0}function we(e,t){return"variable"==e&&C.stream.match(/^\s*[?:]/,!1)||"?"==t?M(we):":"==e?M(Fe):"spread"==e?M(we):Y(Fe)}function ye(e,t){return"<"==t?M(z(">"),ce(Fe,">"),B,ye):"|"==t||"."==e||"&"==t?M(Fe):"["==e?M(Fe,G("]"),ye):"extends"==t||"implements"==t?(C.marked="keyword",M(Fe)):"?"==t?M(Fe,G(":"),Fe):void 0}function be(e,t){if("<"==t)return M(z(">"),ce(Fe,">"),B,ye)}function xe(){return Y(Fe,ke)}function ke(e,t){if("="==t)return M(Fe)}function Xe(e,t){return"enum"==t?(C.marked="keyword",M(Qe)):Y(_e,fe,Me,je)}function _e(e,t){return a&&A(t)?(C.marked="keyword",M(_e)):"variable"==e?(E(t),M()):"spread"==e?M(_e):"["==e?de(Ye,"]"):"{"==e?de(Ce,"}"):void 0}function Ce(e,t){return"variable"!=e||C.stream.match(/^\s*:/,!1)?("variable"==e&&(C.marked="property"),"spread"==e?M(_e):"}"==e?Y():"["==e?M(R,G("]"),G(":"),Ce):M(G(":"),_e,Me)):(E(t),M(Me))}function Ye(){return Y(_e,Me)}function Me(e,t){if("="==t)return M(Z)}function je(e){if(","==e)return M(Xe)}function Ee(e,t){if("keyword b"==e&&"else"==t)return M(z("form","else"),W,B)}function Pe(e,t){return"await"==t?M(Pe):"("==e?M(z(")"),Ae,B):void 0}function Ae(e){return"var"==e?M(Xe,Oe):"variable"==e?M(Oe):Y(Oe)}function Oe(e,t){return")"==e?M():";"==e?M(Oe):"in"==t||"of"==t?(C.marked="keyword",M(R,Oe)):Y(R,Oe)}function Te(e,t){return"*"==t?(C.marked="keyword",M(Te)):"variable"==e?(E(t),M(Te)):"("==e?M(S,z(")"),ce(Ne,")"),B,he,W,I):a&&"<"==t?M(z(">"),ce(xe,">"),B,Te):void 0}function Ve(e,t){return"*"==t?(C.marked="keyword",M(Ve)):"variable"==e?(E(t),M(Ve)):"("==e?M(S,z(")"),ce(Ne,")"),B,he,I):a&&"<"==t?M(z(">"),ce(xe,">"),B,Ve):void 0}function Se(e,t){return"keyword"==e||"variable"==e?(C.marked="type",M(Se)):"<"==t?M(z(">"),ce(xe,">"),B):void 0}function Ne(e,t){return"@"==t&&M(R,Ne),"spread"==e?M(Ne):a&&A(t)?(C.marked="keyword",M(Ne)):a&&"this"==e?M(fe,Me):Y(_e,fe,Me)}function Ie(e,t){return"variable"==e?ze(e,t):Be(e,t)}function ze(e,t){if("variable"==e)return E(t),M(Be)}function Be(e,t){return"<"==t?M(z(">"),ce(xe,">"),B,Be):"extends"==t||"implements"==t||a&&","==e?("implements"==t&&(C.marked="keyword"),M(a?Fe:R,Be)):"{"==e?M(z("}"),Ge,B):void 0}function Ge(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||a&&A(t))&&C.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(C.marked="keyword",M(Ge)):"variable"==e||"keyword"==C.style?(C.marked="property",M(We,Ge)):"number"==e||"string"==e?M(We,Ge):"["==e?M(R,fe,G("]"),We,Ge):"*"==t?(C.marked="keyword",M(Ge)):a&&"("==e?Y(Ve,Ge):";"==e||","==e?M(Ge):"}"==e?M():"@"==t?M(R,Ge):void 0}function We(e,t){if("?"==t)return M(We);if(":"==e)return M(Fe,Me);if("="==t)return M(Z);var n=C.state.lexical.prev,r=n&&"interface"==n.info;return Y(r?Ve:Te)}function Le(e,t){return"*"==t?(C.marked="keyword",M(He,G(";"))):"default"==t?(C.marked="keyword",M(R,G(";"))):"{"==e?M(ce(Re,"}"),He,G(";")):Y(W)}function Re(e,t){return"as"==t?(C.marked="keyword",M(G("variable"))):"variable"==e?Y(Z,Re):void 0}function Ze(e){return"string"==e?M():"("==e?Y(R):Y(qe,Ue,He)}function qe(e,t){return"{"==e?de(qe,"}"):("variable"==e&&E(t),"*"==t&&(C.marked="keyword"),M($e))}function Ue(e){if(","==e)return M(qe,Ue)}function $e(e,t){if("as"==t)return C.marked="keyword",M(qe)}function He(e,t){if("from"==t)return C.marked="keyword",M(R)}function De(e){return"]"==e?M():Y(ce(Z,"]"))}function Qe(){return Y(z("form"),_e,G("{"),z("}"),ce(Je,"}"),B,B)}function Je(){return Y(_e,Me)}function Ke(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function et(e,t,n){return t.tokenize==F&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return I.lex=!0,B.lex=!0,{startState:function(e){var t={tokenize:F,lastType:"sof",cc:[],lexical:new k((e||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&new O(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==u?n:(t.lastType="operator"!=u||"++"!=f&&"--"!=f?u:"incdec",_(t,n,u,f,e))},indent:function(t,i){if(t.tokenize==g)return e.Pass;if(t.tokenize!=F)return 0;var a,s=i&&i.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(i))for(var c=t.cc.length-1;c>=0;--c){var d=t.cc[c];if(d==B)l=l.prev;else if(d!=Ee)break}while(("stat"==l.type||"form"==l.type)&&("}"==s||(a=t.cc[t.cc.length-1])&&(a==H||a==D)&&!/^[,\.=+\-*:?[\(]/.test(i)))l=l.prev;o&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var u=l.type,f=s==u;return"vardef"==u?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==u&&"{"==s?l.indented:"form"==u?l.indented+r:"stat"==u?l.indented+(Ke(t,i)?o||r:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:r):l.indented+(/^(?:case|default)\b/.test(i)?r:2*r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:i?null:"/*",blockCommentEnd:i?null:"*/",blockCommentContinue:i?null:" * ",lineComment:i?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:i?"json":"javascript",jsonldMode:!1,jsonMode:i,expressionAllowed:et,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=R&&t!=Z||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/lsystem",{name:"javascript",json:!0,lsystem:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}}});
//# sourceMappingURL=app.ae09043f.js.map